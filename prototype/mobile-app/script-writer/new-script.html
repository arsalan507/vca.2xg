<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <meta name="theme-color" content="#3b82f6">
  <title>New Script</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="../shared/styles.css">
  <style>
    .step-indicator {
      display: flex;
      justify-content: center;
      gap: var(--space-sm);
      margin-bottom: var(--space-xl);
    }
    .step-dot {
      width: 8px;
      height: 8px;
      border-radius: var(--radius-full);
      background: var(--gray-300);
    }
    .step-dot.active { background: var(--primary); width: 24px; }
    .step-dot.completed { background: var(--success); }
    .form-step { display: none; }
    .form-step.active { display: block; }
  </style>
</head>
<body>
  <div class="app-container">
    <!-- Header -->
    <header class="header">
      <div class="header-content">
        <div class="header-left">
          <a href="index.html" class="back-btn">‚Üê</a>
          <div>
            <div class="header-title">New Script</div>
            <div class="header-subtitle" id="step-label">Step 1 of 3</div>
          </div>
        </div>
      </div>
    </header>

    <!-- Main Content -->
    <main class="main-content">
      <!-- Step Indicator -->
      <div class="step-indicator animate-fade">
        <div class="step-dot active" id="dot-1"></div>
        <div class="step-dot" id="dot-2"></div>
        <div class="step-dot" id="dot-3"></div>
      </div>

      <!-- Step 1: Basic Info -->
      <div class="form-step active" id="step-1">
        <div class="form-group">
          <label class="form-label">Reference URL</label>
          <input type="url" class="form-input" placeholder="Paste video link here...">
          <div class="form-hint">Link to the original viral video</div>
        </div>

        <div class="form-group">
          <label class="form-label">Title</label>
          <input type="text" class="form-input" placeholder="Give it a catchy name...">
        </div>

        <div class="form-group">
          <label class="form-label">Platform</label>
          <div class="selection-grid">
            <div class="selection-item selected">
              <span class="selection-icon">üì∏</span>
              <span class="selection-label">Instagram Reel</span>
            </div>
            <div class="selection-item">
              <span class="selection-icon">üé¨</span>
              <span class="selection-label">YouTube Shorts</span>
            </div>
            <div class="selection-item">
              <span class="selection-icon">‚ñ∂Ô∏è</span>
              <span class="selection-label">YouTube Long</span>
            </div>
          </div>
        </div>

        <div class="form-group">
          <label class="form-label">Shoot Type</label>
          <div class="selection-grid cols-2">
            <div class="selection-item selected">
              <span class="selection-icon">üè†</span>
              <span class="selection-label">Indoor</span>
            </div>
            <div class="selection-item">
              <span class="selection-icon">üå≥</span>
              <span class="selection-label">Outdoor</span>
            </div>
          </div>
        </div>

        <div class="form-group">
          <label class="form-label">Content Rating (1-10)</label>
          <div class="rating-group">
            <button class="rating-btn">1-2</button>
            <button class="rating-btn">3-4</button>
            <button class="rating-btn">5-6</button>
            <button class="rating-btn selected">7-8</button>
            <button class="rating-btn">9-10</button>
          </div>
        </div>

        <button class="btn btn-primary btn-block mt-xl" onclick="nextStep(2)">
          Continue ‚Üí
        </button>
      </div>

      <!-- Step 2: Analysis -->
      <div class="form-step" id="step-2">
        <div class="form-group">
          <label class="form-label">Why Is It Viral?</label>
          <textarea class="form-input form-textarea" placeholder="What makes this content go viral?"></textarea>
        </div>

        <div class="form-group">
          <label class="form-label">How To Replicate</label>
          <textarea class="form-input form-textarea" placeholder="Step-by-step instructions to recreate..."></textarea>
        </div>

        <div class="form-group">
          <label class="form-label">Target Emotion</label>
          <div class="selection-grid">
            <div class="selection-item selected">
              <span class="selection-icon">üòÇ</span>
              <span class="selection-label">Humor</span>
            </div>
            <div class="selection-item">
              <span class="selection-icon">üòÆ</span>
              <span class="selection-label">Surprise</span>
            </div>
            <div class="selection-item">
              <span class="selection-icon">ü•∫</span>
              <span class="selection-label">Emotional</span>
            </div>
            <div class="selection-item">
              <span class="selection-icon">üí°</span>
              <span class="selection-label">Inspiration</span>
            </div>
            <div class="selection-item">
              <span class="selection-icon">üò§</span>
              <span class="selection-label">Relatable</span>
            </div>
            <div class="selection-item">
              <span class="selection-icon">ü§Ø</span>
              <span class="selection-label">Mind-blown</span>
            </div>
          </div>
        </div>

        <div class="form-group">
          <label class="form-label">Viral Potential (1-10)</label>
          <div class="rating-group">
            <button class="rating-btn">1-2</button>
            <button class="rating-btn">3-4</button>
            <button class="rating-btn">5-6</button>
            <button class="rating-btn">7-8</button>
            <button class="rating-btn selected">9-10</button>
          </div>
        </div>

        <div class="btn-group mt-xl">
          <button class="btn btn-outline" onclick="prevStep(1)">‚Üê Back</button>
          <button class="btn btn-primary" onclick="nextStep(3)">Continue ‚Üí</button>
        </div>
      </div>

      <!-- Step 3: Voice Notes -->
      <div class="form-step" id="step-3">
        <div class="form-group">
          <label class="form-label">Explain the Hook</label>
          <div class="voice-recorder">
            <button class="voice-recorder-btn" onclick="toggleRecording(this)">üé§</button>
            <div class="voice-recorder-info">
              <div class="voice-recorder-title">Record Voice Note</div>
              <div class="voice-recorder-hint">Tap to start ‚Ä¢ Explain what makes the hook work</div>
            </div>
          </div>
        </div>

        <div class="form-group">
          <label class="form-label">Why It Will Go Viral</label>
          <div class="voice-recorder">
            <button class="voice-recorder-btn" onclick="toggleRecording(this)">üé§</button>
            <div class="voice-recorder-info">
              <div class="voice-recorder-title">Record Voice Note</div>
              <div class="voice-recorder-hint">Tap to start ‚Ä¢ Your viral analysis</div>
            </div>
          </div>
        </div>

        <div class="form-group">
          <label class="form-label">Replication Steps</label>
          <div class="voice-recorder">
            <button class="voice-recorder-btn" onclick="toggleRecording(this)">üé§</button>
            <div class="voice-recorder-info">
              <div class="voice-recorder-title">Record Voice Note</div>
              <div class="voice-recorder-hint">Tap to start ‚Ä¢ How to shoot this</div>
            </div>
          </div>
        </div>

        <div class="form-hint text-center mb-lg">
          Voice notes help the team understand your vision better
        </div>

        <div class="btn-group mt-xl">
          <button class="btn btn-outline" onclick="prevStep(2)">‚Üê Back</button>
          <button class="btn btn-success" onclick="submitScript()">Submit Script ‚úì</button>
        </div>
      </div>
    </main>
  </div>

  <script>
    let currentStep = 1;

    function nextStep(step) {
      document.getElementById(`step-${currentStep}`).classList.remove('active');
      document.getElementById(`step-${step}`).classList.add('active');

      document.getElementById(`dot-${currentStep}`).classList.remove('active');
      document.getElementById(`dot-${currentStep}`).classList.add('completed');
      document.getElementById(`dot-${step}`).classList.add('active');

      document.getElementById('step-label').textContent = `Step ${step} of 3`;
      currentStep = step;
    }

    function prevStep(step) {
      document.getElementById(`step-${currentStep}`).classList.remove('active');
      document.getElementById(`step-${step}`).classList.add('active');

      document.getElementById(`dot-${currentStep}`).classList.remove('active');
      document.getElementById(`dot-${step}`).classList.remove('completed');
      document.getElementById(`dot-${step}`).classList.add('active');

      document.getElementById('step-label').textContent = `Step ${step} of 3`;
      currentStep = step;
    }

    function toggleRecording(btn) {
      btn.classList.toggle('recording');
      const hint = btn.nextElementSibling.querySelector('.voice-recorder-hint');
      if (btn.classList.contains('recording')) {
        hint.textContent = 'Recording... Tap to stop';
        btn.textContent = '‚èπ';
      } else {
        hint.textContent = '‚úì Recording saved (0:32)';
        btn.textContent = '‚ñ∂';
        btn.style.background = 'var(--success)';
      }
    }

    function submitScript() {
      window.location.href = 'success.html';
    }

    // Selection items
    document.querySelectorAll('.selection-grid').forEach(grid => {
      grid.querySelectorAll('.selection-item').forEach(item => {
        item.addEventListener('click', function() {
          grid.querySelectorAll('.selection-item').forEach(i => i.classList.remove('selected'));
          this.classList.add('selected');
        });
      });
    });

    // Rating buttons
    document.querySelectorAll('.rating-group').forEach(group => {
      group.querySelectorAll('.rating-btn').forEach(btn => {
        btn.addEventListener('click', function() {
          group.querySelectorAll('.rating-btn').forEach(b => b.classList.remove('selected'));
          this.classList.add('selected');
        });
      });
    });
  </script>
</body>
</html>
